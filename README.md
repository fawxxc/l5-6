# Лабораторна робота №5: Розширення бекенд-додатку та реалізація REST API

Цей репозиторій містить бекенд-частину для системи управління Ветеринарною клінікою. Проект реалізовано на стеку: **Node.js + Express + TypeORM + PostgreSQL**.

## 1. Реалізовані сутності та зв'язки

У проекті створено структуру бази даних, що відображає роботу клініки. Реалізовані наступні сутності:

* **Owner (Власник)** — зберігає контактні дані клієнтів.
    * *Зв'язок:* OneToMany з `Pet` (один власник — багато тварин).
* **Pet (Тварина)** — пацієнти клініки.
    * *Зв'язок:* ManyToOne з `Owner`.
    * *Зв'язок:* OneToMany з `Appointment` (історія візитів).
    * *Зв'язок:* OneToMany з `AnimalVaccination` (історія вакцинацій).
* **Employee (Лікар/Працівник)** — персонал клініки.
    * *Зв'язок:* OneToMany з `Appointment` (лікар проводить прийоми).
* **Appointment (Прийом)** — запис на візит.
    * *Зв'язки:* ManyToOne з `Pet` та `Employee`.
* **Payment (Оплата)** — фінансова транзакція.
    * *Зв'язок:* OneToOne з `Appointment` (один візит — один чек).
* **Medicines & Delivery** — складський облік ліків та їх поставок.
* **Vaccination** — довідник вакцин та журнал вакцинацій (`AnimalVaccination`).

---

## 2. API Ендпоінти

Реалізовано повноцінний CRUD для сутності **Owner** із використанням патерну *Controller-Service-Repository*.

| Метод  | URL          | Опис                                      |
| :---   | :---         | :---                                      |
| GET    | `/owners`    | Отримати всіх власників (включаючи тварин)|
| GET    | `/owners/:id`| Отримати власника за ID (включаючи тварин)|
| POST   | `/owners`    | Створити нового власника                  |
| PUT    | `/owners/:id`| Оновити дані власника                     |
| DELETE | `/owners/:id`| Видалити власника                         |

*Примітка: При запиті GET сервер автоматично підтягує зв'язані сутності (JOIN) з таблиці `pets`.*

---

## 3. Демонстрація роботи (Postman)

### 1. Створення нового власника (POST)
Успішне створення запису в базі даних.

<img width="957" height="696" alt="Opera Снимок_2025-11-22_114328_fawxxc-151247 postman co" src="https://github.com/user-attachments/assets/bc45f7f2-a078-442f-9390-20242fb731a1" />


### 2. Отримання списку власників (GET)
Демонстрація роботи **JOIN** (поле `pets` повертається разом з об'єктом власника).

 <img width="1431" height="777" alt="Opera Снимок_2025-11-22_113110_fawxxc-151247 postman co" src="https://github.com/user-attachments/assets/27f4c563-beab-4ba8-b978-9e44d8b031b5" />
 
### 3. Отримання власника за ID
<img width="956" height="676" alt="Opera Снимок_2025-11-22_114606_fawxxc-151247 postman co" src="https://github.com/user-attachments/assets/27985b8b-5e9b-4e26-9252-e4641b67c122" />
